(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/spruce-labs-challenge/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0ad4":function(e,t,r){"use strict";var a=r("5c6b"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=r("2f62"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e._m(0),r("main",{staticClass:"container"},[r("button",{staticClass:"add-btn",on:{click:e.toggleModal}},[e._v("Add User")]),r("section",{staticClass:"user-container"},e._l(e.users,function(e){return r("User",{key:e.id,attrs:{"first-name":e.firstName,"last-name":e.lastName,"email-address":e.emailAddress,"user-id":e.userId,id:e.id,"phone-number":e.phoneNumber,"avatar-url":e.avatarUrl}})}),1)]),r("user-modal",{attrs:{"is-shown":e.showModal,"cta-copy":"Add User","secondary-copy":"Cancel"},on:{onclose:e.toggleModal,onsave:e.onModalSave}})],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("h1",[e._v("User Management App")])])}],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-card",attrs:{id:e.id}},[r("div",{staticClass:"flex-row"},[r("img",{staticClass:"avatar",attrs:{src:e.computedAvatar,alt:e.computedName+"'s avatar"}}),r("div",{staticClass:"data-column"},[r("h4",[e._v(e._s(e.computedName))]),e.emailAddress?r("p",[e._v("Email address: "+e._s(e.emailAddress))]):e._e(),e.phoneNumber?r("p",[e._v("Phone number: "+e._s(e.phoneNumber))]):e._e(),r("p",[e._v("User ID: "+e._s(e.userId))])]),r("div",{staticClass:"buttons"},[r("button",{staticClass:"primary",on:{click:e.toggleModal}},[e._v("Edit")]),r("button",{staticClass:"secondary",on:{click:e.destroyUser}},[e._v("Delete")])])]),r("user-modal",{attrs:{"first-name":e.firstName,"last-name":e.lastName,"email-address":e.emailAddress,"user-id":e.userId,id:e.id,"phone-number":e.phoneNumber,"avatar-url":e.avatarUrl,"is-shown":e.showModal,"cta-copy":"Save","secondary-copy":"Cancel"},on:{onclose:e.toggleModal,onsave:function(t){return e.onSave(t)}}})],1)},l=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isShown?r("div",{staticClass:"modal-container"},[r("div",{staticClass:"dialog"},[r("button",{staticClass:"close",on:{click:e.onClose}},[e._v("X")]),r("h3",[e._v(e._s(e.header))]),r("form",[e.avatarUrl?r("img",{staticClass:"avatar",attrs:{alt:"User Avatar",src:e.avatarUrl}}):e._e(),r("div",[r("label",{attrs:{for:"firstname"}},[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formObj.firstName,expression:"formObj.firstName"}],attrs:{id:"firstname"},domProps:{value:e.formObj.firstName},on:{input:function(t){t.target.composing||e.$set(e.formObj,"firstName",t.target.value)}}}),r("label",{attrs:{for:"lastname"}},[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formObj.lastName,expression:"formObj.lastName"}],attrs:{id:"lastname"},domProps:{value:e.formObj.lastName},on:{input:function(t){t.target.composing||e.$set(e.formObj,"lastName",t.target.value)}}}),r("label",{attrs:{for:"emailaddress"}},[e._v("Email Address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formObj.emailAddress,expression:"formObj.emailAddress"}],attrs:{id:"emailaddress",type:"email"},domProps:{value:e.formObj.emailAddress},on:{input:function(t){t.target.composing||e.$set(e.formObj,"emailAddress",t.target.value)}}}),r("label",{attrs:{for:"phonenumber"}},[e._v("Phone Number")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formObj.phoneNumber,expression:"formObj.phoneNumber"}],attrs:{id:"phonenumber",type:"tel"},domProps:{value:e.formObj.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.formObj,"phoneNumber",t.target.value)}}}),r("label",{attrs:{for:"avatarurl"}},[e._v("Avatar Url")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formObj.avatarUrl,expression:"formObj.avatarUrl"}],attrs:{id:"avatarurl",type:"url"},domProps:{value:e.formObj.avatarUrl},on:{input:function(t){t.target.composing||e.$set(e.formObj,"avatarUrl",t.target.value)}}})])]),r("div",{staticClass:"flex-row"},[e.ctaCopy?r("button",{staticClass:"primary",on:{click:e.onSave}},[e._v(e._s(e.ctaCopy))]):e._e(),e.secondaryCopy?r("button",{staticClass:"secondary",on:{click:e.onClose}},[e._v(e._s(e.secondaryCopy))]):e._e()])])]):e._e()},d=[],m={name:"userModal",data:function(){return{formObj:{id:this.id||"",firstName:this.firstName||"",lastName:this.lastName||"",emailAddress:this.emailAddress||"",userId:this.userId||"",phoneNumber:this.phoneNumber||"",avatarUrl:this.avatarUrl||""}}},methods:{onClose:function(){this.$emit("onclose")},onSave:function(){this.$emit("onsave",this.formObj)}},props:{isShown:Boolean,header:String,ctaCopy:String,secondaryCopy:String,id:String,firstName:String,lastName:String,emailAddress:String,userId:String,phoneNumber:String,avatarUrl:String}},p=m,f=(r("d723"),r("2877")),v=Object(f["a"])(p,u,d,!1,null,"aedeef62",null),b=v.exports;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O={name:"User",data:function(){return{showModal:!1}},computed:{computedName:function(){return"".concat(this.firstName," ").concat(this.lastName)},computedAvatar:function(){return this.avatarUrl?this.avatarUrl:"https://66.media.tumblr.com/tumblr_nhgr5fWO3L1tjxym6o1_1420057203_cover.jpg"}},methods:g({},Object(n["b"])(["saveUser","deleteUser","getUsers"]),{toggleModal:function(){this.showModal=!this.showModal},onSave:function(e){this.saveUser(e),this.toggleModal(),this.getUsers()},destroyUser:function(){var e=this.id;this.deleteUser(e)}}),components:{UserModal:b},props:{id:String,firstName:String,lastName:String,emailAddress:String,userId:String,phoneNumber:String,avatarUrl:String}},y=O,j=(r("0ad4"),Object(f["a"])(y,c,l,!1,null,"e7f7f258",null)),_=j.exports;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach(function(t){Object(i["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w={name:"app",data:function(){return{showModal:!1}},components:{User:_,UserModal:b},computed:{users:function(){return this.$store.state.users}},methods:U({},Object(n["b"])(["createUser","getUsers"]),{toggleModal:function(){this.showModal=!this.showModal},onModalSave:function(e){this.createUser(e),this.toggleModal(),this.getUsers()}})},S=w,P=(r("5c0b"),Object(f["a"])(S,s,o,!1,null,null,null)),C=P.exports,M=r("bc3a"),A=r.n(M);A.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",A.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var x="https://us-central1-gibsunas-playground.cloudfunctions.net/spruce-labs-challenge-server",$=function(e){return e.get(x)},k=function(e){return function(t){return t?e.delete("".concat(x,"?id=").concat(t)):Promise.resolve()}},E=function(e){return function(t){return e.post(x,t)}},D=function(e){return function(t){return e.put(x,t)}};a["a"].config.productionTip=!1,a["a"].use(n["a"]);var I=new n["a"].Store({state:{users:[],editEnabledId:""},actions:{saveUser:function(e,t){D(A.a)(JSON.parse(JSON.stringify(t)))},createUser:function(e,t){E(A.a)(t).then(function(t){e.commit("recieveUsers",t)})},getUsers:function(e){$(A.a).then(function(t){var r=t.data;e.commit("recieveUsers",r)})},deleteUser:function(e,t){k(A.a)(t).then(function(){I.dispatch("getUsers")})}},mutations:{recieveUsers:function(e,t){e.users=t.data.users}}});I.dispatch("getUsers"),new a["a"]({store:I,render:function(e){return e(C)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var a=r("e332"),n=r.n(a);n.a},"5c6b":function(e,t,r){},ce0e:function(e,t,r){},d723:function(e,t,r){"use strict";var a=r("ce0e"),n=r.n(a);n.a},e332:function(e,t,r){}});
//# sourceMappingURL=app.523fcc78.js.map